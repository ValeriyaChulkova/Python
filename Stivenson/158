try:
 in_name = input("Введите имя файла Python: ")
 inf = open(in_name, "r")
except:
 # Выводим сообщение и завершаем работу программы в случае возникновения ошибки
 print("При открытии файла возникла проблема.")
 print("Завершение работы программы...")
 quit()
# Запрашиваем у пользователя имя итогового файла и открываем его
try:
 out_name = input("Введите имя нового файла: ")
 outf = open(out_name, "w")
except:
 # Закрываем исходный файл, показываем сообщение об ошибке и завершаем программу
 inf.close()
 print("С создаваемым файлом возникла проблема.")
 print("Завершение работы программы...")
 quit()
try:
 for line in inf:
 # Находим позицию символа комментария (–1, если его нет)
 pos = line.find("#")
 if pos > –1:
 line = line[0 : pos]
 line = line + "\n"
 outf.write(line)
 inf.close()
 outf.close()
 except:
 print("При обработке файла возникла проблема.")
 print("Завершаем программу...")
